(function(t){function e(e){for(var a,c,i=e[0],o=e[1],l=e[2],f=0,p=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(u,c)&&u[c]&&p.push(u[c][0]),u[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);s&&s(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,i=1;i<n.length;i++){var o=n[i];0!==u[o]&&(a=!1)}a&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},u={app:0},r=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/loopbar/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var s=o;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},3676:function(t,e,n){"use strict";n("7699")},4086:function(t,e,n){},"5c2b":function(t,e,n){},"61d5":function(t,e,n){"use strict";n("5c2b")},"61ea":function(t,e,n){},7699:function(t,e,n){},"9cdc":function(t,e,n){"use strict";n("d673")},ac46:function(t,e,n){"use strict";n("d381")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function u(t,e,n,u,r,c){var i=Object(a["w"])("router-view");return Object(a["p"])(),Object(a["c"])(i)}n("9cdc");const r={};r.render=u;var c=r,i=n("9483");Object(i["a"])("".concat("/loopbar/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var o=n("6c02"),l=Object(a["G"])("data-v-e548194c");Object(a["s"])("data-v-e548194c");var s={class:"root-container"},f=Object(a["e"])(" Choose a video file "),p={key:0,class:"control-container"},b={class:"video-area"},d={class:"currentTime"},v={class:"rate-settings"},m=Object(a["e"])(" Playback rate "),O=Object(a["e"])(" %"),j={class:"rate-buttons"},h={class:"loop-area"},y={class:"loop-settings"},g={class:"input-with-button"},k=Object(a["e"])("from"),S=Object(a["e"])("for duration"),w={class:"input-with-button"},I=Object(a["e"])("to"),T={class:"loop-settings"},V=Object(a["e"])(" Shift loop "),x=Object(a["e"])("Shift multiplier");Object(a["q"])();var C=l((function(t,e,n,u,r,c){var i=Object(a["w"])("VideoPlayer"),o=Object(a["w"])("SliderInput"),C=Object(a["w"])("NumberInput"),_=Object(a["w"])("BeatSettings");return Object(a["p"])(),Object(a["c"])("div",s,[Object(a["f"])("label",null,[f,Object(a["f"])("input",{ref:"videoFileInput",type:"file",accept:"video/*",onChange:e[1]||(e[1]=function(){return t.videoFileSelected.apply(t,arguments)})},null,544)]),null!==t.videoFile?(Object(a["p"])(),Object(a["c"])("div",p,[Object(a["f"])("div",b,[Object(a["f"])(i,{ref:"player",file:t.videoFile,"onUpdate:timeDisplay":e[2]||(e[2]=function(e){return t.currentTimeDisplay=e}),onPaused:t.videoPaused,playbackRate:t.playbackRate,"onUpdate:playbackRate":e[3]||(e[3]=function(e){return t.playbackRate=e})},null,8,["file","onPaused","playbackRate"]),Object(a["f"])("span",d," Beat #"+Object(a["y"])(t.bar)+" ("+Object(a["y"])(t.currentTimeIndicator)+") ",1),Object(a["f"])("div",v,[Object(a["f"])(o,{class:"rate-slider",modelValue:t.playbackRatePercent,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.playbackRatePercent=e}),min:25,max:300},{unit:l((function(){return[O]})),default:l((function(){return[m]})),_:1},8,["modelValue"]),Object(a["f"])("div",j,[Object(a["f"])("button",{onClick:e[5]||(e[5]=function(e){return t.playbackRate=.25})},"25 %"),Object(a["f"])("button",{onClick:e[6]||(e[6]=function(e){return t.playbackRate=.5})},"50 %"),Object(a["f"])("button",{onClick:e[7]||(e[7]=function(e){return t.playbackRate=.75})},"75 %"),Object(a["f"])("button",{onClick:e[8]||(e[8]=function(e){return t.playbackRate=1})},"100 %"),Object(a["f"])("button",{onClick:e[9]||(e[9]=function(e){return t.playbackRate=1.5})},"150 %"),Object(a["f"])("button",{onClick:e[10]||(e[10]=function(e){return t.playbackRate=2})},"200 %")])])]),Object(a["f"])("div",h,[Object(a["f"])("button",{onClick:e[11]||(e[11]=function(e){return t.toggleLoop()})},Object(a["y"])(t.loopButtonText),1),Object(a["f"])("div",y,[Object(a["f"])("div",g,[Object(a["f"])(C,{modelValue:t.range.start,"onUpdate:modelValue":e[12]||(e[12]=function(e){return t.range.setStart(e)}),class:"narrow-input"},{default:l((function(){return[k]})),_:1},8,["modelValue"]),Object(a["f"])("button",{onClick:e[13]||(e[13]=function(e){return t.loopStartToNowClicked()})},"set to now")]),Object(a["f"])(C,{modelValue:t.range.duration,"onUpdate:modelValue":e[14]||(e[14]=function(e){return t.range.setDurationByShiftingEnd(e)}),class:"narrow-input"},{default:l((function(){return[S]})),_:1},8,["modelValue"]),Object(a["f"])("div",w,[Object(a["f"])(C,{modelValue:t.range.end,"onUpdate:modelValue":e[15]||(e[15]=function(e){return t.range.setEnd(e)}),class:"narrow-input"},{default:l((function(){return[I]})),_:1},8,["modelValue"]),Object(a["f"])("button",{onClick:e[16]||(e[16]=function(e){return t.loopEndToNowClicked()})},"set to now")])]),Object(a["f"])("div",T,[V,Object(a["f"])("button",{onClick:e[17]||(e[17]=function(e){return t.shiftLoop(-1)})},"â¬…ï¸"),Object(a["f"])("button",{onClick:e[18]||(e[18]=function(e){return t.shiftLoop(1)})},"âž¡ï¸ï¸"),Object(a["f"])(C,{modelValue:t.shiftMultiplier,"onUpdate:modelValue":e[19]||(e[19]=function(e){return t.shiftMultiplier=e})},{default:l((function(){return[x]})),_:1},8,["modelValue"])])]),Object(a["f"])(_,{class:"beat-settings",currentTimeDisplay:t.currentTimeDisplay,getCurrentTime:t.getCurrentTime,customBpm:t.customBpm,customOffset:t.customOffset,"onUpdate:bpm":e[20]||(e[20]=function(e){return t.bpm=e}),"onUpdate:offset":e[21]||(e[21]=function(e){return t.offset=e}),onStartPlay:e[22]||(e[22]=function(e){return t.player.play()})},null,8,["currentTimeDisplay","getCurrentTime","customBpm","customOffset"])])):Object(a["d"])("",!0)])})),_=(n("b0c0"),n("3835")),M=Object(a["G"])("data-v-1784e5e8"),B=M((function(t,e,n,u,r,c){return Object(a["p"])(),Object(a["c"])("video",{ref:"player",id:"player",src:t.source,controls:"",onPlaying:e[1]||(e[1]=function(e){return t.$emit("started-playing")}),onPause:e[2]||(e[2]=function(e){return t.$emit("paused")}),onRatechange:e[3]||(e[3]=function(e){return t.rateChanged()})},null,40,["src"])})),F=(n("a9e3"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),Object(a["g"])({props:{file:{type:File},playbackRate:{type:Number,default:1}},emits:["update:time-display","update:playbackRate","started-playing","paused"],setup:function(t,e){var n=Object(a["u"])(null),u=Object(a["a"])((function(){if(null!=t.file){var e=URL.createObjectURL(t.file);return e}return null}));Object(a["E"])(Object(a["z"])(t,"playbackRate"),(function(t){n.value.playbackRate=t}));var r=null,c=function t(){var a,u=null===(a=n.value)||void 0===a?void 0:a.currentTime;null!==u&&r!==u&&(r=u,e.emit("update:time-display",u)),requestAnimationFrame(t)};return Object(a["n"])(c),{player:n,source:u}},methods:{getCurrentTime:function(){return this.player.currentTime},seekToSecond:function(t){this.player.currentTime=t},play:function(){this.player.play()},pause:function(){this.player.pause()},rateChanged:function(){var t=this.player.playbackRate;this.$emit("update:playbackRate",t)}}}));n("ac46");F.render=B,F.__scopeId="data-v-1784e5e8";var N=F,R=Object(a["G"])("data-v-d4f4cdce");Object(a["s"])("data-v-d4f4cdce");var E={class:"beat-settings"},P={class:"visualization"},D={class:"beat-indicator"},L={class:"settings-area"},U={class:"custom setting"},q={class:"header"},$=Object(a["e"])(" Use custom settings "),A={class:"inputs"},z=Object(a["e"])("Beats per minute (bpm)"),G=Object(a["e"])(" Offset "),J=Object(a["e"])(" % of bpm"),H={class:"meter setting"},K={class:"header"},Q={key:0},W={class:"inputs"},X={class:"bpm-display"},Y={key:0,class:"missing-beats"},Z={key:1,class:"bpm"};Object(a["q"])();var tt=R((function(t,e,n,u,r,c){var i=Object(a["w"])("NumberInput"),o=Object(a["w"])("SliderInput");return Object(a["p"])(),Object(a["c"])("div",E,[Object(a["f"])("div",P,[Object(a["f"])("span",D,Object(a["y"])(t.beatIndicator),1),Object(a["e"])(" "+Object(a["y"])(t.bpmDisplay)+" bpm ",1)]),Object(a["f"])("div",L,[Object(a["f"])("div",U,[Object(a["f"])("div",q,[Object(a["f"])("label",null,[Object(a["F"])(Object(a["f"])("input",{type:"radio",name:"beatInput",value:"custom","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.beatInput=e})},null,512),[[a["C"],t.beatInput]]),$])]),Object(a["f"])("div",A,[Object(a["f"])(i,{modelValue:t.customBpmRef,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.customBpmRef=e})},{default:R((function(){return[z]})),_:1},8,["modelValue"]),Object(a["f"])(o,{modelValue:t.customOffsetPercent,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.customOffsetPercent=e}),min:-50,max:50},{unit:R((function(){return[J]})),default:R((function(){return[G]})),_:1},8,["modelValue"])])]),Object(a["f"])("div",H,[Object(a["f"])("div",K,[Object(a["f"])("label",null,[Object(a["F"])(Object(a["f"])("input",{type:"radio",name:"beatInput",value:"meter","onUpdate:modelValue":e[4]||(e[4]=function(e){return t.beatInput=e}),disabled:t.beatMeter.needsMoreBeats},null,8,["disabled"]),[[a["C"],t.beatInput]]),Object(a["f"])("div",null,[Object(a["f"])("span",{class:{disabled:t.beatMeter.needsMoreBeats}},"Use tap settings",2),t.beatMeter.needsMoreBeats?(Object(a["p"])(),Object(a["c"])("span",Q," (unavailable until set)")):Object(a["d"])("",!0)])])]),Object(a["f"])("div",W,[Object(a["f"])("button",{onMousedown:e[5]||(e[5]=function(){return t.tappedBeat.apply(t,arguments)})},"Tap me to the beat",32),Object(a["f"])("div",X,[t.beatMeter.needsMoreBeats?(Object(a["p"])(),Object(a["c"])("span",Y," Set the beats per minute (bpm) by tapping the button. ")):(Object(a["p"])(),Object(a["c"])("span",Z,Object(a["y"])(t.meterBpmDisplay)+" bpm (offset "+Object(a["y"])(t.meterOffsetDisplay)+") ",1))]),Object(a["f"])("button",{onClick:e[6]||(e[6]=function(){return t.resetClicked.apply(t,arguments)})},"Reset bpm")])])])])})),et=(n("b680"),Object(a["G"])("data-v-4ad62136"));Object(a["s"])("data-v-4ad62136");var nt={class:"number-input"},at={class:"label"};Object(a["q"])();var ut=et((function(t,e,n,u,r,c){return Object(a["p"])(),Object(a["c"])("div",nt,[Object(a["f"])("button",{class:"first-button",onClick:e[1]||(e[1]=function(){return t.decrement.apply(t,arguments)})},"â¬…ï¸"),Object(a["f"])("label",null,[Object(a["f"])("div",at,[Object(a["v"])(t.$slots,"default")]),Object(a["f"])("input",{class:"input",type:"text",inputmode:"decimal",value:t.inputText,onChange:e[2]||(e[2]=function(e){return t.newInput(e.target.value)})},null,40,["value"])]),Object(a["f"])("button",{class:"second-button",onClick:e[3]||(e[3]=function(){return t.increment.apply(t,arguments)})},"âž¡ï¸")])})),rt=(n("c35a"),n("25f0"),Object(a["g"])({props:{modelValue:{type:Number,required:!0}},emits:["update:modelValue"],setup:function(t){var e=Object(a["A"])(t),n=e.modelValue,u=Object(a["u"])(it(n.value));return Object(a["E"])(n,(function(t){var e=ct(u.value);null!=e&&e!==t&&(u.value=it(t))})),{inputText:u}},methods:{newInput:function(t){this.inputText=t;var e=ct(t);null!=e&&this.$emit("update:modelValue",e)},increment:function(){this.$emit("update:modelValue",this.modelValue+1)},decrement:function(){this.$emit("update:modelValue",this.modelValue-1)}}}));function ct(t){var e=Number.parseFloat(t);return isNaN(e)?null:e}function it(t){return t%1===0?t.toString():t.toFixed(2)}n("f495");rt.render=ut,rt.__scopeId="data-v-4ad62136";var ot=rt,lt=Object(a["G"])("data-v-487f2c43");Object(a["s"])("data-v-487f2c43");var st={class:"inputs"};Object(a["q"])();var ft=lt((function(t,e,n,u,r,c){return Object(a["p"])(),Object(a["c"])("div",null,[Object(a["f"])("label",null,[Object(a["v"])(t.$slots,"default"),Object(a["f"])("div",st,[Object(a["f"])("div",null,[Object(a["f"])("input",{type:"text",inputmode:"decimal",value:t.inputText,onChange:e[1]||(e[1]=function(e){return t.newTextInput(e.target.value)})},null,40,["value"]),Object(a["f"])("span",null,[Object(a["v"])(t.$slots,"unit")])]),Object(a["f"])("input",{type:"range",value:t.modelValue,onInput:e[2]||(e[2]=function(e){return t.newSliderInput(e.target.value)}),min:t.min,max:t.max},null,40,["value","min","max"])])])])})),pt=Object(a["g"])({props:{modelValue:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1}},emits:["update:modelValue"],setup:function(t){var e=Object(a["A"])(t),n=e.modelValue,u=Object(a["u"])(dt(n.value,t.step)),r=Object(a["a"])((function(){return n.value.toFixed(0)}));return Object(a["E"])(n,(function(e){var n=bt(u.value);null!=n&&n!==e&&(u.value=dt(e,t.step))})),{inputText:u,modelValueDisplay:r}},methods:{newTextInput:function(t){this.inputText=t;var e=bt(t);null!=e&&this.$emit("update:modelValue",e)},newSliderInput:function(t){var e=bt(t);null!=e&&this.$emit("update:modelValue",e)}}});function bt(t){var e=Number.parseFloat(t);return isNaN(e)?null:e}function dt(t,e){var n=e%1;return 0===n?t.toFixed(0):t.toFixed(2)}n("f281");pt.render=ft,pt.__scopeId="data-v-487f2c43";var vt=pt,mt=(n("d81d"),n("13d5"),n("fb6a"),n("d4ec")),Ot=n("bee2"),jt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(mt["a"])(this,t),this.beats=e,this.period_=0,this.offset_=0,this.calculate(e)}return Object(Ot["a"])(t,[{key:"addBeats",value:function(){var t;(t=this.beats).push.apply(t,arguments),It(this.beats),this.calculate(this.beats)}},{key:"reset",value:function(){this.beats=[],this.calculate(this.beats)}},{key:"calculate",value:function(t){this.period_=gt(t),this.offset_=St(t,this.period)}},{key:"period",get:function(){return this.period_}},{key:"bpm",get:function(){return 0===this.period?0:ht(this.period)}},{key:"offset",get:function(){return this.offset_}},{key:"needsMoreBeats",get:function(){return this.beats.length<2}}]),t}();function ht(t){return 60/t}function yt(t){return 60/t}function gt(t){if(t.length<=1)return 0;var e=It(kt(t)),n=wt(e),a=n.reduce((function(t,e){return t+e}),0)/n.length;return a}function kt(t){for(var e=new Array(t.length-1),n=0;n<t.length-1;n++){var a=t[n],u=t[n+1],r=u-a;e[n]=r}return e}function St(t,e){if(0===e)return 0;var n=It(t.map((function(t){return t%e}))),a=wt(n),u=a.reduce((function(t,e){return t+e}),0)/a.length;return u/e}function wt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=t.length,u=Math.floor(a/e*n),r=Math.ceil(a/e*(e-n));return t.slice(u,r)}function It(t){return t.sort((function(t,e){return t-e}))}var Tt=Object(a["g"])({components:{NumberInput:ot,SliderInput:vt},props:{customBpm:{type:Number,required:!0},customOffset:{type:Number,required:!0},currentTimeDisplay:{type:Number,required:!0},getCurrentTime:{type:Function,required:!0}},emits:["update:bpm","update:offset","start-play"],setup:function(t,e){var n=Object(a["u"])("custom"),u=Object(a["u"])(t.customBpm),r=Object(a["u"])(t.customOffset),c=Object(a["a"])({get:function(){return 100*r.value},set:function(t){r.value=t/100}});Object(a["E"])(Object(a["z"])(t,"customBpm"),(function(t){t!==u.value&&(u.value=t)})),Object(a["E"])(Object(a["z"])(t,"customOffset"),(function(t){t!==r.value&&(r.value=t)})),Object(a["E"])([u,r],(function(){n.value="custom"}));var i=Object(a["t"])(new jt),o=Object(a["a"])((function(){return"meter"===n.value?i.period:yt(u.value)})),l=Object(a["a"])((function(){return"meter"===n.value?i.bpm:u.value})),s=Object(a["a"])((function(){return"meter"===n.value?i.offset:r.value}));Object(a["E"])(l,(function(t){return e.emit("update:bpm",t)})),Object(a["E"])(s,(function(t){return e.emit("update:offset",t)}));var f=Object(a["a"])((function(){var e=s.value*o.value,n=(t.currentTimeDisplay-e)%o.value;return n/o.value<.25})),p=Object(a["a"])((function(){return f.value?"ðŸ‘":"ðŸ‘"})),b=Object(a["a"])((function(){return i.bpm.toFixed(1)})),d=Object(a["a"])((function(){return"".concat((100*i.offset).toFixed(0)," %")})),v=Object(a["a"])((function(){return l.value.toFixed(1)})),m=Object(a["a"])((function(){var t=100*s.value;return"".concat(t.toFixed(0)," %")}));return{customOffsetPercent:c,customBpmRef:u,meterBpmDisplay:b,meterOffsetDisplay:d,bpmDisplay:v,offsetDisplay:m,beatMeter:i,beatIndicator:p,beatInput:n}},methods:{tappedBeat:function(){this.$emit("start-play"),this.beatMeter.addBeats(this.getCurrentTime()),this.beatMeter.needsMoreBeats||(this.beatInput="meter")},resetClicked:function(){this.beatMeter.reset(),this.beatInput="custom"}}});n("3676");Tt.render=tt,Tt.__scopeId="data-v-d4f4cdce";var Vt=Tt,xt=function(){function t(e,n){Object(mt["a"])(this,t),this.start_=Math.max(0,e),this.end_=Math.max(this.start,n)}return Object(Ot["a"])(t,[{key:"setStart",value:function(t){this.start_=this.sanitizeInput(t,this.start),this.end<this.start&&this.setEnd(this.start)}},{key:"setDurationByShiftingEnd",value:function(t){t>=0&&this.setEnd(this.start+t)}},{key:"setEnd",value:function(t){this.end_=this.sanitizeInput(t,this.end),this.start>this.end&&this.setStart(this.end)}},{key:"shift",value:function(t){var e=this.start+t;if(e>=0){var n=this.end+t;this.setStart(e),this.setEnd(n)}else{var a=this.duration;this.setStart(0),this.setEnd(a)}}},{key:"sanitizeInput",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return isNaN(t)?e:Math.max(n,t)}},{key:"start",get:function(){return this.start_}},{key:"duration",get:function(){return this.end-this.start}},{key:"end",get:function(){return this.end_}}],[{key:"fromStartAndDuration",value:function(e,n){var a=e+n;return new t(e,a)}},{key:"fromStartAndEnd",value:function(e,n){return new t(e,n)}}]),t}();n("99af"),n("4d90");function Ct(t){var e=t/60,n=e/60,a=Math.floor(n).toFixed(0).padStart(2,"0"),u=Math.floor(e%60).toFixed(0).padStart(2,"0"),r=Math.floor(t%60).toFixed(0).padStart(2,"0"),c=Math.floor(100*t%100).toFixed(0).padStart(2,"0"),i="".concat(a,":").concat(u,":").concat(r,".").concat(c);return i}var _t=Object(a["g"])({components:{VideoPlayer:N,SliderInput:vt,NumberInput:ot,BeatSettings:Vt},setup:function(){var t=Object(a["u"])(null),e=Object(a["u"])(null),n=Object(a["u"])(null),u=Object(a["u"])(0),r=Object(a["a"])((function(){return Ct(u.value)})),c=Object(a["u"])(1),i=Object(a["a"])({get:function(){return 100*c.value},set:function(t){c.value=t/100}}),o=Object(a["u"])(120),l=Object(a["a"])((function(){return yt(o.value)})),s=Object(a["u"])(0),f=Object(a["a"])((function(){if(l.value>0){var t=s.value*l.value;return Math.floor((u.value-t)/l.value)}return 0})),p=Object(a["u"])(o.value),b=Object(a["u"])(s.value),d=Object(a["t"])(xt.fromStartAndDuration(0,8)),v=Object(a["u"])(8),m=Object(a["u"])(!1),O=Object(a["a"])((function(){return m.value?"Stop loop":"Start loop"})),j=function(){var t=Mt(d.start,l.value,s.value);n.value.seekToSecond(t),n.value.play()};Object(a["E"])([m,u,d],(function(t){var e=Object(_["a"])(t,3),n=e[0],a=e[1],u=e[2],r=.1,c=Mt(u.start,l.value,s.value)-r,i=Mt(u.end,l.value,s.value),o=c<a&&a<i;n&&!o&&j()}));var h=function(t,e){localStorage.setItem(t.name,JSON.stringify(e))},y=function(t){var e=localStorage.getItem(t.name);return null!==e?JSON.parse(e):null};return Object(a["E"])([o,s,d],(function(t){var n=Object(_["a"])(t,3),a=n[0],u=n[1],r=n[2];null!==e.value&&h(e.value,{bpm:a,offset:u,range:{start:r.start,end:r.end}})})),Object(a["E"])(e,(function(t){if(null!==t){var e=y(t);null!==e&&(p.value=e.bpm,b.value=e.offset,d.setStart(e.range.start),d.setEnd(e.range.end))}})),{videoFileInput:t,videoFile:e,player:n,currentTimeDisplay:u,currentTimeIndicator:r,playbackRate:c,playbackRatePercent:i,bpm:o,period:l,offset:s,customBpm:p,customOffset:b,bar:f,isLooping:m,range:d,shiftMultiplier:v,loopButtonText:O,playLoopStart:j}},methods:{videoFileSelected:function(){var t=this.videoFileInput.files;if(null!==t&&0!==t.length){var e=t[0];null!=e&&(this.videoFile=e)}},getCurrentTime:function(){return null!==this.player?this.player.getCurrentTime():0},shiftLoop:function(t){var e=t*this.shiftMultiplier;this.range.shift(e)},toggleLoop:function(){this.isLooping?this.stopLoop():this.startLoop()},startLoop:function(){this.isLooping=!0,this.playLoopStart()},stopLoop:function(){this.isLooping=!1},videoPaused:function(){this.stopLoop()},loopStartToNowClicked:function(){this.range.setStart(this.bar)},loopEndToNowClicked:function(){this.range.setEnd(this.bar)}}});function Mt(t,e,n){var a=n*e;return t*e+a}n("61d5");_t.render=C,_t.__scopeId="data-v-e548194c";var Bt=_t,Ft=[{path:"/",name:"Loopbar",component:Bt}],Nt=Object(o["a"])({history:Object(o["b"])(),routes:Ft}),Rt=Nt,Et=n("5502"),Pt=Object(Et["a"])({state:{},mutations:{},actions:{},modules:{}});Object(a["b"])(c).use(Pt).use(Rt).mount("#app")},d381:function(t,e,n){},d673:function(t,e,n){},f281:function(t,e,n){"use strict";n("61ea")},f495:function(t,e,n){"use strict";n("4086")}});
//# sourceMappingURL=app.8d8eea51.js.map